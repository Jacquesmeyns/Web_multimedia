<!DOCTYPE html>
<html>
<style>
#container {
  width: 400px;
  height: 400px;
  position: relative;
  background: black;
}
#animate {
  width: 50px;
  height: 50px;
  position: absolute;
  background-color: red;
  /*box-shadow: 0 0 5px #99ff33;*/
  filter: drop-shadow(0 0 5px #99ff33);
  top: 100px;
  left: 150px;
}
</style>
<body>

<!--<p><button onclick="myMove()">Click Me</button></p> -->

<div id ="container">
  <div id ="animate"></div>
</div>

<script>
/*
function sleep(ms) {
  return new Promise(resolve => setTimeout(resolve, ms));
}
*/
async function myMove() {
  var elem = document.getElementById("animate");   
  var pos = 100;
  var posMax = 112;
  var posMin = 100;
  var id = setInterval(frame, 80);
  var crece=true;
  var tamMin = 5;
  var tamMax = 9;
  var tamActual = 5;

  var sube = true;
  
  function frame() {
    if (pos == 350) {
      clearInterval(id);
    } else {
      //pos++; 
      //elem.style.top = pos + "px"; 
      //elem.style.left = pos + "px";
      
      //elem.style.filter = "drop-shadow(0px 0px " + pos + "px #99ff33)";
    }

    //Condición que controla la "levitación" del objeto
    if(sube){
      pos++;
      elem.style.top = pos + "px";
      
    }
    else{
      pos--;
      elem.style.top = pos + "px";
    }
    if(pos>posMax)
      sube = false;
    else if(pos < posMin)
      sube = true;

    //await sleep(2)
    //Condición que controla si el brillo "crece" o "encoge"
    if(crece){
      tamActual++;
    	elem.style.filter = "drop-shadow(0px 0px " + tamActual + "px #99ff33)";
    	
    }
    else{
      tamActual--;
    	elem.style.filter = "drop-shadow(0px 0px " + tamActual + "px #99ff33)";
    }
    
    if(tamActual>tamMax)
    	crece = false;
    else if(tamActual < tamMin)
    	crece = true;
    
  }
}

myMove();
</script>

</body>
</html>